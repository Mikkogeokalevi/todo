body {
    background-color: #1a2015;
    font-family: 'Georgia', serif;
    margin: 0;
    padding: 10px;
    -webkit-tap-highlight-color: transparent;
}

.sisalto-laatikko {
    max-width: 800px;
    margin: 15px auto;
    padding: 10px;
    background-color: #3D4F2B;
    border: 3px solid #11150C;
    border-radius: 12px;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.6);
    position: relative;
}

#speed-display {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: rgba(0, 0, 0, 0.7);
    color: #FFD700;
    padding: 5px 15px;
    border-radius: 8px;
    font-family: monospace, sans-serif;
    font-size: 2.2em;
    font-weight: bold;
    z-index: 1002;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.hidden { display: none !important; }

.teksti-alue {
    color: #F8F8F8;
    line-height: 1.7;
    padding: 5px;
    font-size: 1.0em;
}

.logo-container { display: flex; align-items: center; margin-bottom: 10px; gap: 15px; }
.logo { width: 50px; height: 50px; border: 2px solid #90EE90; border-radius: 50%; box-shadow: 1px 1px 3px rgba(0,0,0,0.4); background-color: #3D4F2B; padding: 3px; flex-shrink: 0; }
.paaotsikko { color: #90EE90; text-align: left; margin: 0; text-shadow: 1px 1px 2px rgba(0,0,0,0.8); font-size: 1.2em; letter-spacing: 0.5px; }
.alaotsikko { color: #90EE90; text-align: center; margin-top: 20px; margin-bottom: 15px; font-size: 1.2em; text-shadow: 1px 1px 1px rgba(0,0,0,0.6); }
.custom-hr { border: none; height: 1px; background-color: #2A381C; margin: 20px 0; }
.container { padding: 0 5px; }

.list-name-display {
    text-align: left;
    color: #FFD700;
    font-family: monospace, sans-serif;
    font-size: 1.0em;
    margin: 4px 0 0 0;
    padding: 0;
    font-weight: bold;
}

input[type="text"], textarea, select { flex-grow: 1; padding: 10px; border: 1px solid #2A381C; border-radius: 4px; font-size: 15px; width: 100%; box-sizing: border-box; background-color: #2A381C; color: #F8F8F8; font-family: 'Georgia', serif; }
input[type="text"]::placeholder, textarea::placeholder { color: #cccccc; opacity: 0.7; }
button { padding: 10px 15px; border: 1px solid #90EE90; background-color: transparent; color: #90EE90; border-radius: 4px; cursor: pointer; font-size: 15px; font-family: 'Georgia', serif; transition: all 0.2s; flex-shrink: 0; }
button:hover { background-color: #90EE90; color: #1a2015; }

.toggle-button { background-color: #4a5c3a; border-color: #556B2F; margin-bottom: 15px; width: 100%; }
.toggle-button:hover { background-color: #556B2F; color: #FFFFFF; }
.profile-controls { display: flex; margin-bottom: 15px; }
.profile-controls button { width: 100%; }

.pgc-settings-container {
    margin: 15px 0;
}
.pgc-settings-container details {
    border: 1px solid #2A381C;
    border-radius: 5px;
    background-color: #2A381C;
}
.pgc-settings-container summary {
    padding: 10px;
    cursor: pointer;
    font-weight: bold;
    color: #E6E6E6;
}
.pgc-input-wrapper {
    padding: 0 10px 10px 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.pgc-input-wrapper label {
    font-size: 0.9em;
}
.pgc-input-wrapper input {
    background-color: #3D4F2B;
    border-color: #556B2F;
}

.pgc-link-container {
    margin-top: 5px;
}
.pgc-link-container a {
    color: #FFD700;
    text-decoration: none;
    font-size: 0.9em;
}
.pgc-link-container a:hover {
    text-decoration: underline;
}


.bulk-add { background-color: #2A381C; border: 1px solid #556B2F; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
.bulk-add h3 { margin: 0 0 10px 0; text-align: center; color: #E6E6E6; font-size: 1.1em; }
.bulk-add button { margin-top: 10px; width: 100%; }

ul { list-style: none; padding: 0; }
.municipality-item { background: #4a5c3a; border: 1px solid #2A381C; padding: 10px; margin-bottom: 10px; border-radius: 5px; cursor: grab; transition: all 0.3s ease; }
.municipality-item.dragging { opacity: 0.8; border: 1px dashed #FFD700; }

.municipality-item.status-empty {
    background: #3d4f2b; 
    opacity: 0.7;
}
.municipality-item.status-completed {
    background: #27ae60; 
    border-color: #2ecc71;
}
.municipality-item.status-completed .municipality-name-link {
    color: #ffffff;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}


.municipality-header { display: flex; justify-content: space-between; align-items: center; font-size: 1.1em; font-weight: bold; color: #FFFFFF; margin-bottom: 5px; }
.cache-list { padding-left: 0; margin-top: 10px; }
.cache-item { display: flex; align-items: center; padding: 5px; border-top: 1px solid #556B2F; }
.cache-info { flex-grow: 1; word-break: break-word; }
.cache-info a { color: inherit; text-decoration: underline; text-decoration-color: #cccccc; transition: color 0.2s; }
.cache-info a:hover { color: #FFD700; }
.actions { display: flex; align-items: center; }
.cache-actions button, .municipality-header .actions button { background: none; border: none; font-size: 1.2em; padding: 0 4px; color: #cccccc; width: auto; }
.cache-actions button:hover, .municipality-header .actions button:hover { color: #FFD700; }

.set-coords-btn { border: 2px solid transparent !important; border-radius: 50%; transition: all 0.3s ease; line-height: 1; }
.set-coords-btn.coords-set { border-color: #2ecc71 !important; transform: scale(1.1); }

.add-cache { display: flex; flex-direction: row; gap: 8px; margin-top: 10px; align-items: center; }
.add-cache .new-cache-name { flex-grow: 1; min-width: 50px; }
.add-cache button { flex-grow: 0; flex-shrink: 0; width: auto; padding: 10px 12px; }

.municipality-name-link { color: #FFFFFF; text-decoration: none; transition: color 0.2s; }
.municipality-name-link:hover { color: #FFD700; text-decoration: underline; }
.actions .pgc-link { font-size: 1.2em; text-decoration: none; margin-right: 8px; transition: transform 0.2s; display: inline-block; }
.actions .pgc-link:hover { transform: scale(1.2); }

#location-status-display { background-color: #2A381C; border-radius: 8px; padding: 10px 15px; margin-bottom: 15px; text-align: center; border: 1px solid #4a5c3a; }
#location-status-display p { margin: 0; line-height: 1.4; }
.status-kunta { font-size: 1.2em; color: #FFD700; }
.status-kunta strong { font-weight: 600; }
.status-koordinaatit { font-size: 0.9em; color: #bbbbbb; font-family: monospace; }
#map { height: 300px; width: 100%; margin-top: 0; margin-bottom: 0; border-radius: 12px; border: 2px solid #2A381C; z-index: 1; }
.user-marker { background-color: #3498db; border: 3px solid #ffffff; border-radius: 50%; box-shadow: 0 0 10px rgba(0,0,0,0.5); width: 18px; height: 18px; }
.municipality-item.highlight { background-color: #FFD700; border-color: #fff; transform: scale(1.03); }
.municipality-item.highlight .municipality-name-link { color: #1a2015; font-weight: bold; }
#toggleTrackingBtn { background-color: #3498db; color: white; border-color: #3498db; font-weight: bold; }
#toggleTrackingBtn.tracking-active { background-color: #e74c3c; border-color: #e74c3c; }
.notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background-color: #2ecc71; color: white; padding: 15px 25px; border-radius: 8px; z-index: 1001; box-shadow: 0 4px 15px rgba(0,0,0,0.3); font-size: 1.1em; font-weight: bold; animation: fadeInOut 8s ease-in-out; text-align: center; max-width: 90%; }
.notification.approach { background-color: #3498db; }
.notification.target { background-color: #e67e22; }
@keyframes fadeInOut { 0% { opacity: 0; top: 0; } 15% { opacity: 1; top: 20px; } 85% { opacity: 1; top: 20px; } 100% { opacity: 0; top: -50px; } }
.municipality-marker { background: rgba(42, 56, 28, 0.8); color: #FFD700; border: 1px solid #FFD700; border-radius: 5px; padding: 2px 5px; font-size: 12px; font-weight: bold; text-align: center; white-space: nowrap; box-shadow: 0 1px 3px rgba(0,0,0,0.4); pointer-events: none; }
.cache-marker { background-color: #FFD700; border: 2px solid #ffffff; border-radius: 50%; width: 12px; height: 12px; box-shadow: 0 0 5px rgba(0,0,0,0.5); }

/* UUSI: Kuntarajojen tyyli kartalla */
.municipality-boundary {
    fillColor: "#FFD700";
    fillOpacity: 0.2;
    color: "#FFD700";
    weight: 2;
}

.view-toggles { display: flex; margin-bottom: 20px; border: 1px solid #4a5c3a; border-radius: 8px; overflow: hidden; }
.view-toggle-btn { flex: 1; padding: 12px; border: none; background-color: transparent; color: #cccccc; cursor: pointer; font-size: 1.1em; transition: all 0.3s; border-radius: 0; }
.view-toggle-btn.active { background-color: #FFD700; color: #1a2015; font-weight: bold; }
.direct-add-cache { display: flex; gap: 10px; margin-top: 20px; }
#directAddBtn { flex-shrink: 1; }
.found-cache-item { background: #2A381C; padding: 12px; margin-bottom: 10px; border-radius: 5px; border-left: 4px solid #90EE90; }
.found-cache-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
.found-cache-header a { font-weight: bold; font-size: 1.1em; color: #FFFFFF; text-decoration: none; word-break: break-all; }
.found-cache-header a:hover { text-decoration: underline; color: #FFD700; }
.timestamp { font-size: 0.8em; color: #cccccc; margin-bottom: 8px; }
.loggers { display: flex; gap: 15px; flex-wrap: wrap; }
.loggers label { display: flex; align-items: center; gap: 5px; color: #dddddd; }
.found-cache-actions { display: flex; gap: 5px; }
.found-cache-actions button { color: #cccccc; font-size: 1.1em; }

.cache-name { font-weight: bold; margin-bottom: 5px; word-break: break-word; }
.cache-name a { color: inherit; text-decoration: underline; }
.cache-name a:hover { color: #FFD700; }
.cache-details { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 8px; }
.cache-detail-tag { font-size: 0.8em; background-color: #3D4F2B; color: #dddddd; padding: 2px 8px; border-radius: 10px; white-space: nowrap; border: 1px solid #4a5c3a; }
.cache-detail-tag.fp { background-color: #FFD700; color: #1a2015; font-weight: bold; }

.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 2000; display: flex; justify-content: center; align-items: center; }
.modal-content { background-color: #3D4F2B; padding: 20px; border-radius: 12px; border: 2px solid #90EE90; width: 90%; max-width: 500px; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
.modal-content h2 { color: #90EE90; margin-top: 0; text-align: center; }
#editCacheForm .form-group { margin-bottom: 12px; }
#editCacheForm .form-row { display: flex; gap: 12px; margin-bottom: 12px; }
#editCacheForm .form-row .form-group { flex: 1; margin-bottom: 0; }
#editCacheForm label { display: block; margin-bottom: 5px; font-size: 0.9em; color: #E6E6E6; }
.modal-actions { display: flex; gap: 10px; margin-top: 20px; justify-content: flex-end; }
.modal-actions button { width: auto; padding: 10px 20px; }
.modal-actions .modal-save-btn { background-color: #2ecc71; border-color: #2ecc71; color: white; }
.modal-actions .modal-save-btn:hover { background-color: #27ae60; }

.logger-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #3D4F2B;
    padding: 5px 10px;
    border-radius: 4px;
    margin-bottom: 5px;
}
.delete-logger-btn {
    background: none;
    border: none;
    color: #ff6b6b;
    font-size: 1.2em;
    cursor: pointer;
}
.delete-logger-btn:hover {
    color: #e74c3c;
}
.add-logger-controls {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

#activeMunicipalityContainer {
    border: 2px solid #FFD700;
    background-color: #4a5c3a;
    border-radius: 8px;
    padding: 10px;
    margin: 15px 0;
    animation: fadeIn 0.5s;
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.management-details {
    border: 1px solid #2A381C;
    border-radius: 5px;
    background-color: #2A381C;
    margin-bottom: 20px;
}
.management-details summary {
    padding: 10px;
    cursor: pointer;
    font-weight: bold;
    color: #E6E6E6;
    font-size: 1.1em;
}
.management-details .details-content {
    padding: 0 10px 10px 10px;
}

@media (max-width: 600px) {
    body { padding: 5px; font-size: 14px; }
    .sisalto-laatikko { margin: 5px auto; padding: 8px; }
    .paaotsikko { font-size: 1.1em; }
    #map { height: 250px; }
    #speed-display { font-size: 1.8em; top: 5px; right: 5px; }

    .municipality-item { padding: 8px; }
    .cache-item { padding: 4px 0; }
    .cache-detail-tag { font-size: 0.7em; padding: 1px 6px; }

    .found-cache-item { padding: 8px; }
    .found-cache-header a { font-size: 1em; }
    .loggers { gap: 8px; }
    .loggers label { font-size: 0.9em; gap: 4px; }
}
