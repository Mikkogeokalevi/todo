<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ty√∂aikalaskuri</title>
    <link rel="stylesheet" href="tyoaikalaskuri.css">
</head>
<body>

    <div class="sisalto-laatikko">
        <h1 class="print-header">Ty√∂aikalaskuri</h1>

        <div class="projekti-valitsin">
            <h2>Valitse tai luo projekti</h2>
            <label for="projektiValikko">Valitse olemassa oleva projekti:</label>
            <select id="projektiValikko" class="projekti-input">
                <option value="">Ladataan projekteja...</option>
            </select>
            <label for="projektinNimi">Tai luo uusi kirjoittamalla nimi:</label>
            <input type="text" id="projektinNimi" class="projekti-input" placeholder="Esim. asiakas-x-sivut">
        </div>
        
        <div id="laskuri-osio" class="hidden">
            <div class="projekti-otsikko-container">
                <h2 id="aktiivinenProjektiNimi"></h2>
                <div class="projekti-toiminnot no-print">
                    <button id="muokkaaProjektinNimeaBtn" title="Muokkaa projektin nime√§">‚úèÔ∏è</button>
                    <button id="poistaProjektiBtn" title="Poista koko projekti">üóëÔ∏è</button>
                </div>
            </div>

            <div class="aktiivinen-kirjaus no-print">
                <h3>Aktiivinen Teht√§v√§</h3>
                <input type="text" id="aktiivinenTehtava" placeholder="Teht√§v√§n kuvaus (vapaaehtoinen)">
                <div class="aikaleima">Aloitusaika: <span id="alkuAikaNaytto">--:--</span></div>
                <button id="aloitaLopetaBtn">Aloita Ajanotto</button>
            </div>

            <hr class="custom-hr no-print">

            <details class="management-details no-print">
                <summary>Lis√§√§ kirjaus k√§sin</summary>
                <div class="details-content">
                    <div class="manuaalinen-kirjaus">
                        <input type="text" id="manuaalinenTehtava" placeholder="Teht√§v√§n kuvaus (vapaaehtoinen)">
                        <div class="form-rivi">
                            <div class="form-ryhma">
                                <label for="manuaalinenAlku">Alkoi:</label>
                                <input type="datetime-local" id="manuaalinenAlku">
                            </div>
                            <div class="form-ryhma">
                                <label for="manuaalinenLoppu">Loppui:</label>
                                <input type="datetime-local" id="manuaalinenLoppu">
                            </div>
                        </div>
                        <button id="lisaaManuaalisestiBtn">Lis√§√§ Kirjaus</button>
                    </div>
                </div>
            </details>

            <hr class="custom-hr">

            <div id="yhteenveto">
                <h3>Yhteenveto</h3>
                <div id="paivittaisetSummat"></div>
                <div class="kokonaisaika">Kokonaisaika: <strong id="kokonaisAikaSumma">0h 0min</strong></div>
                <button id="tulostaBtn" class="no-print">Tulosta yhteenveto</button>
            </div>

            <h2 class="kirjaukset-otsikko">Kirjaukset</h2>
            <ul id="kirjauksetLista"></ul>
            
            <div id="suoraLinkki" class="hidden no-print">
                <hr class="custom-hr">
                <label>Projektin suora linkki:</label>
                <div class="linkki-container">
                    <input type="text" readonly>
                    <button id="kopioiLinkkiBtn">Kopioi</button>
                </div>
            </div>

        </div>
    </div>

    <template id="kirjaus-template">
        <li class="kirjaus-item">
            <div class="kirjaus-tiedot">
                <div class="tehtava-teksti"></div>
                <textarea class="tehtava-input hidden"></textarea>
                <div class="aika-tiedot">
                    <input type="datetime-local" class="alku-input" disabled>
                    <span class="aika-nuoli">‚Üí</span>
                    <input type="datetime-local" class="loppu-input" disabled>
                </div>
            </div>
            <div class="kirjaus-toiminnot-container">
                <div class="kesto">Kesto: <strong></strong></div>
                <div class="kirjaus-toiminnot no-print">
                    <button class="muokkaa-btn" title="Muokkaa">‚úèÔ∏è</button>
                    <button class="tallenna-btn hidden" title="Tallenna">üíæ</button>
                    <button class="poista-btn" title="Poista">üóëÔ∏è</button>
                </div>
                <label class="lukitus-label no-print" title="Lukitse muokkauksilta">
                    <input type="checkbox" class="lukitse-kirjaus-checkbox">
                    <span class="lukko-ikoni">üîí</span>
                </label>
            </div>
        </li>
    </template>
    
    <script type="module" src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js"></script>
    <script type="module" src="tyoaikalaskuri.js"></script>
</body>
</html>
